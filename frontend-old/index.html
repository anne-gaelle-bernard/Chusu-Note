<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHUSU NOTE ğŸ“</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŠ CHUSU NOTE</h1>
            <p class="subtitle">Suivi de vos fruits</p>
            <div class="header-actions">
                <button onclick="toggleTheme()" class="btn-theme" title="Changer le thÃ¨me">ğŸŒ™</button>
                <button onclick="showDashboard()" class="btn-stats" title="Statistiques">ğŸ“Š</button>
                <button onclick="showCalendar()" class="btn-calendar" title="Calendrier">ğŸ“…</button>
                <button onclick="exportData()" class="btn-export" title="Exporter">ğŸ“¥</button>
                <button onclick="deconnexion()" class="btn-logout">DÃ©connexion ğŸšª</button>
            </div>
        </header>

        <!-- Dashboard Modal -->
        <div id="dashboardModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('dashboardModal')">&times;</span>
                <h2>ğŸ“Š Statistiques de vos fruits</h2>
                <div id="statsContainer"></div>
            </div>
        </div>

        <!-- Calendar Modal -->
        <div id="calendarModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('calendarModal')">&times;</span>
                <h2>ğŸ“… Calendrier & Reminders</h2>
                <div id="calendarContainer"></div>
            </div>
        </div>

        <main>
            <!-- Formulaire d'ajout -->
            <section class="form-section">
                <h2>Ajouter un fruit</h2>
                <form id="fruitForm" novalidate>
                    <div class="form-group">
                        <label for="nomFruit">Nom du fruit *</label>
                        <input type="text" id="nomFruit" name="nomFruit" required minlength="2" maxlength="100" placeholder="Ex: Jean Dupont">
                        <span class="error-msg" id="nomFruit-error"></span>
                    </div>

                    <div class="form-group">
                        <label for="memo">MÃ©mo *</label>
                        <textarea id="memo" name="memo" rows="5" required minlength="10" placeholder="Situation, blocages, environnement, VA, origine, etc..."></textarea>
                        <span class="error-msg" id="memo-error"></span>
                    </div>

                    <div class="form-group">
                        <label for="priere">PriÃ¨re pour ce fruit ğŸ™</label>
                        <textarea id="priere" name="priere" rows="3" placeholder="Vos priÃ¨res et intentions pour ce fruit..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="dateChatGui">Date de ChatGui *</label>
                        <input type="date" id="dateChatGui" name="dateChatGui" required>
                    </div>

                    <div class="form-group">
                        <label for="typeChatGui">Type de ChatGui *</label>
                        <select id="typeChatGui" name="typeChatGui" required>
                            <option value="">-- SÃ©lectionner --</option>
                            <option value="event">Event</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="dateManam">Date de manam</label>
                        <input type="date" id="dateManam" name="dateManam">
                    </div>

                    <div class="form-group">
                        <label for="dateReminder">Date de rappel ğŸ””</label>
                        <input type="date" id="dateReminder" name="dateReminder">
                        <small>Date pour reprendre des nouvelles</small>
                    </div>

                    <div class="form-group">
                        <label for="resultatManam">RÃ©sultat du manam</label>
                        <select id="resultatManam" name="resultatManam">
                            <option value="">-- SÃ©lectionner --</option>
                            <option value="TT">TT</option>
                            <option value="Non">Non</option>
                        </select>
                    </div>

                    <div class="form-group" id="raisonGroup" style="display: none;">
                        <label for="raison">Pourquoi ?</label>
                        <textarea id="raison" name="raison" rows="3" placeholder="Expliquer pourquoi pas TT..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">Ajouter le fruit ğŸŠ</button>
                </form>
            </section>

            <!-- Liste des fruits -->
            <section class="list-section">
                <div class="list-header">
                    <h2>Liste des fruits</h2>
                    <div class="controls-group">
                        <div class="search-box">
                            <input type="text" id="searchInput" placeholder="ğŸ” Rechercher un fruit...">
                        </div>
                        <div class="filter-group">
                            <select id="filterType">
                                <option value="all">Tous les types</option>
                                <option value="event">Event</option>
                                <option value="autre">Autre</option>
                            </select>
                            <select id="filterStatus">
                                <option value="all">Tous les rÃ©sultats</option>
                                <option value="TT">TT uniquement</option>
                                <option value="Non">Non TT</option>
                                <option value="pending">En attente</option>
                            </select>
                            <select id="sortBy">
                                <option value="recent">Plus rÃ©cents</option>
                                <option value="oldest">Plus anciens</option>
                                <option value="name">Par nom</option>
                                <option value="chatgui">Par date ChatGui</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="fruitsList" class="fruits-list">
                    <p class="empty-state">Aucun fruit enregistrÃ© pour le moment ğŸ</p>
                </div>
                <div id="pagination" class="pagination"></div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
